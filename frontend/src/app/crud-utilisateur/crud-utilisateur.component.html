<div class="user-management">
  <h2>Gestion des utilisateurs</h2>

  <!-- Champ de recherche -->
  <input type="text" [(ngModel)]="searchTerm" placeholder="🔍 Rechercher un utilisateur" />

  <!-- Formulaire pour ajouter ou modifier un utilisateur -->
  <form (ngSubmit)="saveUser()" #userForm="ngForm">
    <input [(ngModel)]="selectedUser.nom" name="nom" required placeholder="Nom" />
    <input [(ngModel)]="selectedUser.email" name="email" required placeholder="Email" />
    <input [(ngModel)]="selectedUser.motDePasse" name="motDePasse" required placeholder="Mot de passe" type="password" />
    
    <!-- Bouton d'enregistrement -->
    <button type="submit" [disabled]="!userForm.form.valid">
      {{ isEditing ? 'Modifier' : 'Ajouter' }}
    </button>

    <!-- Bouton pour annuler l'édition -->
    <button type="button" (click)="resetForm()">Annuler</button>
  </form>

  <!-- Tableau des utilisateurs filtrés -->
  <table>
    <thead>
      <tr>
        <th>Nom</th>
        <th>Email</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of filteredUsers()">
        <td>{{ user.nom }}</td>
        <td>{{ user.email }}</td>
        <td>
          <!-- Bouton modifier -->
          <button (click)="editUser(user)" title="Modifier">✏️</button>

          <!-- Bouton supprimer -->
          <button (click)="deleteUser(user.id!)" title="Supprimer">🗑️</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>